# This is what we expect:
# top:
#   Thing: value
#   nested:
#     doubly:
#       inner: value
# an_integer: 123
# a_string: abc

---

test_name: Test 'anything' token will match any response

includes:
  - !include common.yaml

stages:
  - name: match top level
    request:
      url: "{host}/fake_dictionary"
      method: GET
    response:
      status_code: 200
      body:
        top: !anything

---

test_name: Test nested dictionary access

includes:
  - !include common.yaml

stages:
  - name: match nested values
    request:
      url: "{host}/fake_dictionary"
      method: GET
    response:
      status_code: 200
      body:
        top:
          Thing: value
          nested:
            doubly:
              inner: value
        an_integer: 123
        a_string: abc
