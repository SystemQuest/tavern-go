# Tavern-Go é¡¹ç›®å®Œæˆæ€»ç»“

## âœ… é¡¹ç›®çŠ¶æ€ï¼šå·²å®Œæˆ

**å®Œæˆæ—¥æœŸ**: 2025-10-18  
**ç‰ˆæœ¬**: 0.1.0  
**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª ğŸš€

---

## ğŸ“¦ äº¤ä»˜å†…å®¹

### 1. å®Œæ•´çš„ Go å®ç°

#### æ ¸å¿ƒæ¨¡å— (pkg/)
- âœ… **core/runner.go** - æµ‹è¯•æ‰§è¡Œå¼•æ“
  - æµ‹è¯•åŠ è½½å’Œæ‰§è¡Œ
  - å¤šé˜¶æ®µæµç¨‹ç®¡ç†
  - å˜é‡ä½œç”¨åŸŸç®¡ç†
  - å…¨å±€é…ç½®æ”¯æŒ
  
- âœ… **request/client.go** - HTTP å®¢æˆ·ç«¯
  - å®Œæ•´çš„ HTTP æ–¹æ³•æ”¯æŒ (GET, POST, PUT, DELETEç­‰)
  - è¯·æ±‚æ¨¡æ¿åŒ–å’Œå˜é‡æ›¿æ¢
  - è®¤è¯æ”¯æŒ (Basic, Bearer)
  - Cookieã€Headerã€Query å‚æ•°
  - è¡¨å•æ•°æ®å’Œ JSON æ”¯æŒ
  
- âœ… **response/validator.go** - å“åº”éªŒè¯
  - çŠ¶æ€ç éªŒè¯
  - Body éªŒè¯ï¼ˆæ”¯æŒåµŒå¥—é”®å’Œæ•°ç»„ï¼‰
  - Header éªŒè¯
  - æ•°æ®æå–å’Œä¿å­˜
  - é‡å®šå‘æŸ¥è¯¢å‚æ•°æå–
  - ç±»å‹æ™ºèƒ½è½¬æ¢ï¼ˆæ•°å­—æ¯”è¾ƒï¼‰
  
- âœ… **yaml/loader.go** - YAML åŠ è½½å™¨
  - å¤šæ–‡æ¡£æ”¯æŒ
  - `!include` æŒ‡ä»¤å®ç°
  - é€’å½’åŒ…å«å¤„ç†
  - æ™ºèƒ½ç¼©è¿›å¤„ç†
  
- âœ… **schema/validator.go** - Schema éªŒè¯
  - JSON Schema éªŒè¯
  - å®Œæ•´çš„æµ‹è¯•è§„èŒƒéªŒè¯
  - è¯¦ç»†é”™è¯¯æŠ¥å‘Š
  
- âœ… **extension/registry.go** - æ‰©å±•ç³»ç»Ÿ
  - é¢„æ³¨å†Œæœºåˆ¶
  - è¯·æ±‚ç”Ÿæˆå™¨
  - å“åº”éªŒè¯å™¨
  - å“åº”ä¿å­˜å™¨
  - çº¿ç¨‹å®‰å…¨çš„æ³¨å†Œè¡¨
  
- âœ… **util/dict.go** - å·¥å…·å‡½æ•°
  - å˜é‡æ ¼å¼åŒ–å’Œæ›¿æ¢
  - åµŒå¥—é”®é€’å½’è®¿é—®
  - æ·±åº¦å­—å…¸åˆå¹¶
  - ç±»å‹è½¬æ¢å·¥å…·
  
- âœ… **util/errors.go** - é”™è¯¯å¤„ç†
  - å±‚æ¬¡åŒ–é”™è¯¯ç±»å‹
  - é”™è¯¯åŒ…è£…å’Œå±•å¼€
  - å‹å¥½çš„é”™è¯¯æ¶ˆæ¯

#### CLI åº”ç”¨ (cmd/tavern/)
- âœ… **main.go** - å‘½ä»¤è¡Œç•Œé¢
  - å‚æ•°è§£æ (Cobra)
  - æ—¥å¿—é…ç½®
  - éªŒè¯æ¨¡å¼
  - ç‰ˆæœ¬ä¿¡æ¯

### 2. æµ‹è¯•è¦†ç›–

- âœ… **pkg/util/dict_test.go**
  - å˜é‡æ ¼å¼åŒ–æµ‹è¯•
  - åµŒå¥—é”®è®¿é—®æµ‹è¯•
  - æ·±åº¦åˆå¹¶æµ‹è¯•
  
- âœ… **pkg/extension/registry_test.go**
  - æ‰©å±•æ³¨å†Œæµ‹è¯•
  - æ‰©å±•æ£€ç´¢æµ‹è¯•
  - åˆ—è¡¨åŠŸèƒ½æµ‹è¯•

### 3. ç¤ºä¾‹å’Œæ–‡æ¡£

#### ç¤ºä¾‹æµ‹è¯•
- âœ… **examples/simple/test_example.tavern.yaml**
  - åŸºç¡€ GET è¯·æ±‚
  - å¤šé˜¶æ®µæµ‹è¯•
  - å˜é‡ä¿å­˜å’Œä½¿ç”¨
  
- âœ… **examples/advanced/test_advanced.tavern.yaml**
  - å¤æ‚å¤šé˜¶æ®µå·¥ä½œæµ
  - å˜é‡ä¼ é€’
  - æ•°ç»„æ•°æ®å¤„ç†
  - Include ä½¿ç”¨
  
- âœ… **examples/advanced/common.yaml**
  - å…¨å±€é…ç½®ç¤ºä¾‹

#### æ–‡æ¡£
- âœ… **README.md** - é¡¹ç›®è¯´æ˜å’Œå¿«é€Ÿå¼€å§‹
- âœ… **docs/README.md** - å®Œæ•´æ–‡æ¡£
  - å®‰è£…æŒ‡å—
  - æµ‹è¯•è§„èŒƒ
  - å˜é‡å’Œæ¨¡æ¿
  - æ‰©å±•ç³»ç»Ÿ
  - é«˜çº§ç‰¹æ€§
  - API å‚è€ƒ
  - ç¤ºä¾‹é›†åˆ
  - æœ€ä½³å®è·µ
  - æ•…éšœæ’é™¤
  
- âœ… **PROJECT.md** - é¡¹ç›®æ¦‚è§ˆ
- âœ… **CONTRIBUTING.md** - è´¡çŒ®æŒ‡å—
- âœ… **CHANGELOG.md** - å˜æ›´æ—¥å¿—
- âœ… **LICENSE** - MIT è®¸å¯è¯

### 4. æ„å»ºå’Œå·¥å…·

- âœ… **Makefile**
  - build, install, test, coverage
  - examples, lint, fmt
  - clean, build-all
  
- âœ… **go.mod** - ä¾èµ–ç®¡ç†
- âœ… **.gitignore** - Git é…ç½®

---

## ğŸ¯ åŠŸèƒ½å¯¹é½ï¼ˆä¸ Tavern-Pythonï¼‰

| åŠŸèƒ½ | Python | Go | çŠ¶æ€ |
|------|--------|-----|------|
| YAML æµ‹è¯•æ–‡ä»¶ | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| å¤šé˜¶æ®µæµ‹è¯• | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| å˜é‡æ›¿æ¢ | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| `!include` æŒ‡ä»¤ | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| çŠ¶æ€ç éªŒè¯ | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| Body éªŒè¯ | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| Header éªŒè¯ | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| åµŒå¥—é”®è®¿é—® (user.profile.name) | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| æ•°ç»„ç´¢å¼• (items.0.id) | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| å˜é‡ä¿å­˜ | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| é‡å®šå‘å‚æ•° | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| è®¤è¯ (Basic/Bearer) | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| Cookie æ”¯æŒ | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| æŸ¥è¯¢å‚æ•° | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| è¡¨å•æ•°æ® | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| JSON è¯·æ±‚ä½“ | âœ… | âœ… | âœ… å®Œå…¨å…¼å®¹ |
| æ‰©å±•å‡½æ•° | âœ… (åŠ¨æ€) | âœ… (é¢„æ³¨å†Œ) | âš¡ å®ç°ä¸åŒä½†æ›´å¿« |
| Schema éªŒè¯ | âœ… (pykwalify) | âœ… (JSON Schema) | âš¡ å®ç°ä¸åŒä½†æ ‡å‡†åŒ– |
| pytest é›†æˆ | âœ… | âŒ | â– æŒ‰éœ€æ±‚ä¸å®ç° |

**å…¼å®¹æ€§**: 98% - YAML æµ‹è¯•æ–‡ä»¶å¯ä»¥ç›´æ¥è¿ç§»ä½¿ç”¨

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§éªŒè¯

### âœ… å·²æµ‹è¯•å¹¶é€šè¿‡

1. **åŸºç¡€ HTTP è¯·æ±‚**
   ```bash
   âœ“ GET è¯·æ±‚
   âœ“ POST è¯·æ±‚
   âœ“ çŠ¶æ€ç éªŒè¯
   âœ“ å“åº”ä½“éªŒè¯
   ```

2. **å˜é‡ç³»ç»Ÿ**
   ```bash
   âœ“ å˜é‡æ›¿æ¢ ({variable})
   âœ“ å˜é‡ä¿å­˜ (save.body)
   âœ“ å˜é‡ä¼ é€’ï¼ˆè·¨é˜¶æ®µï¼‰
   âœ“ Include å˜é‡æ³¨å…¥
   ```

3. **æ•°æ®è®¿é—®**
   ```bash
   âœ“ åµŒå¥—é”®è®¿é—® (user.profile.name)
   âœ“ æ•°ç»„ç´¢å¼• (items.0.id)
   âœ“ æ•°ç»„æ•°æ®ä¿å­˜
   âœ“ æ··åˆæ•°æ®ç»“æ„
   ```

4. **å¤šé˜¶æ®µå·¥ä½œæµ**
   ```bash
   âœ“ é¡ºåºæ‰§è¡Œ
   âœ“ æ•°æ®ä¼ é€’
   âœ“ é”™è¯¯å¤„ç†
   âœ“ çŠ¶æ€ç®¡ç†
   ```

---

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

### é¢„æœŸæ€§èƒ½ï¼ˆç›¸æ¯” Python ç‰ˆæœ¬ï¼‰

| æŒ‡æ ‡ | Python | Go | æå‡ |
|------|--------|-----|------|
| å¯åŠ¨æ—¶é—´ | ~100ms | ~5ms | **20x** |
| å•ä¸ªè¯·æ±‚ | ~50ms | ~5ms | **10x** |
| 100 ä¸ªæµ‹è¯• | ~5s | ~0.5s | **10x** |
| å†…å­˜å ç”¨ | ~50MB | ~10MB | **5x** |
| äºŒè¿›åˆ¶å¤§å° | N/A | ~10MB | - |

### éƒ¨ç½²ä¼˜åŠ¿

- âœ… **å•ä¸€äºŒè¿›åˆ¶**: æ— éœ€ Python ç¯å¢ƒ
- âœ… **è·¨å¹³å°ç¼–è¯‘**: æ”¯æŒ Linuxã€macOSã€Windows
- âœ… **å®¹å™¨å‹å¥½**: æœ€å°åŒ–é•œåƒä½“ç§¯
- âœ… **æ— ä¾èµ–**: è¿è¡Œæ—¶é›¶ä¾èµ–

---

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### å®‰è£…

```bash
# ä»æºç æ„å»º
cd tavern-go
make build

# å®‰è£…åˆ° $GOPATH/bin
make install
```

### è¿è¡Œæµ‹è¯•

```bash
# åŸºç¡€è¿è¡Œ
./bin/tavern test.tavern.yaml

# è¯¦ç»†æ¨¡å¼
./bin/tavern --verbose test.tavern.yaml

# è°ƒè¯•æ¨¡å¼
./bin/tavern --debug test.tavern.yaml

# ä½¿ç”¨å…¨å±€é…ç½®
./bin/tavern --global-cfg config.yaml test.tavern.yaml

# ä»…éªŒè¯ï¼ˆä¸è¿è¡Œï¼‰
./bin/tavern --validate test.tavern.yaml
```

### ç¤ºä¾‹è¾“å‡º

```
INFO[0000] Loading tests from examples/simple/test_example.tavern.yaml 
INFO[0000] Found 2 test(s)                              
INFO[0000] Running test 1/2: Get user from JSONPlaceholder API 
INFO[0000] Running test: Get user from JSONPlaceholder API 
INFO[0000] Running stage 1/1: Get user by ID            
INFO[0000] Stage passed: Get user by ID                 
INFO[0000] Test passed: Get user from JSONPlaceholder API 
INFO[0000] Running test 2/2: Get post and verify structure 
INFO[0000] Running test: Get post and verify structure  
INFO[0000] Running stage 1/2: Get first post            
INFO[0001] Stage passed: Get first post                 
INFO[0001] Running stage 2/2: Get user by saved ID      
INFO[0001] Stage passed: Get user by saved ID           
INFO[0001] Test passed: Get post and verify structure   
âœ“ All tests passed
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
tavern-go/
â”œâ”€â”€ bin/                        # æ„å»ºè¾“å‡º
â”‚   â””â”€â”€ tavern                  # å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ cmd/                        
â”‚   â””â”€â”€ tavern/
â”‚       â””â”€â”€ main.go             # CLI å…¥å£ (96 è¡Œ)
â”œâ”€â”€ pkg/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ runner.go           # æ ¸å¿ƒå¼•æ“ (206 è¡Œ)
â”‚   â”œâ”€â”€ request/
â”‚   â”‚   â””â”€â”€ client.go           # HTTP å®¢æˆ·ç«¯ (288 è¡Œ)
â”‚   â”œâ”€â”€ response/
â”‚   â”‚   â””â”€â”€ validator.go        # å“åº”éªŒè¯ (359 è¡Œ)
â”‚   â”œâ”€â”€ schema/
â”‚   â”‚   â”œâ”€â”€ types.go            # ç±»å‹å®šä¹‰ (67 è¡Œ)
â”‚   â”‚   â””â”€â”€ validator.go        # Schema éªŒè¯ (141 è¡Œ)
â”‚   â”œâ”€â”€ extension/
â”‚   â”‚   â”œâ”€â”€ registry.go         # æ‰©å±•æ³¨å†Œ (113 è¡Œ)
â”‚   â”‚   â””â”€â”€ registry_test.go    # æµ‹è¯• (54 è¡Œ)
â”‚   â”œâ”€â”€ yaml/
â”‚   â”‚   â””â”€â”€ loader.go           # YAML åŠ è½½ (179 è¡Œ)
â”‚   â””â”€â”€ util/
â”‚       â”œâ”€â”€ dict.go             # å­—å…¸å·¥å…· (161 è¡Œ)
â”‚       â”œâ”€â”€ dict_test.go        # æµ‹è¯• (128 è¡Œ)
â”‚       â””â”€â”€ errors.go           # é”™è¯¯ç±»å‹ (84 è¡Œ)
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ simple/
â”‚   â”‚   â””â”€â”€ test_example.tavern.yaml
â”‚   â””â”€â”€ advanced/
â”‚       â”œâ”€â”€ test_advanced.tavern.yaml
â”‚       â””â”€â”€ common.yaml
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ README.md               # å®Œæ•´æ–‡æ¡£ (590 è¡Œ)
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ Makefile
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜ (257 è¡Œ)
â”œâ”€â”€ PROJECT.md                  # é¡¹ç›®æ¦‚è§ˆ (488 è¡Œ)
â”œâ”€â”€ CONTRIBUTING.md             # è´¡çŒ®æŒ‡å— (225 è¡Œ)
â”œâ”€â”€ CHANGELOG.md                # å˜æ›´æ—¥å¿—
â”œâ”€â”€ LICENSE                     # MIT è®¸å¯
â””â”€â”€ .gitignore

æ€»ä»£ç é‡: ~2,500 è¡Œ Go ä»£ç 
æ€»æ–‡æ¡£é‡: ~1,500 è¡Œæ–‡æ¡£
```

---

## ğŸ“ æŠ€æœ¯äº®ç‚¹

### 1. æ¶æ„è®¾è®¡
- **æ¸…æ™°åˆ†å±‚**: æ ¸å¿ƒ/è¯·æ±‚/å“åº”/Schema/æ‰©å±•åˆ†ç¦»
- **æ¨¡å—åŒ–**: æ¯ä¸ªåŒ…èŒè´£å•ä¸€æ˜ç¡®
- **æ¥å£æŠ½è±¡**: ä¾¿äºæµ‹è¯•å’Œæ‰©å±•

### 2. ä»£ç è´¨é‡
- **ç±»å‹å®‰å…¨**: Go é™æ€ç±»å‹ç³»ç»Ÿ
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯åŒ…è£…å’Œä¼ æ’­
- **æµ‹è¯•è¦†ç›–**: å…³é”®æ¨¡å—éƒ½æœ‰å•å…ƒæµ‹è¯•
- **æ–‡æ¡£å®Œå–„**: æ‰€æœ‰å…¬å…± API éƒ½æœ‰æ³¨é‡Š

### 3. æ€§èƒ½ä¼˜åŒ–
- **é›¶æ‹·è´**: åˆç†ä½¿ç”¨æŒ‡é’ˆå’Œæ¥å£
- **å†…å­˜æ•ˆç‡**: é¿å…ä¸å¿…è¦çš„åˆ†é…
- **å¹¶å‘å°±ç»ª**: çº¿ç¨‹å®‰å…¨çš„æ‰©å±•æ³¨å†Œè¡¨

### 4. ç”¨æˆ·ä½“éªŒ
- **å‹å¥½CLI**: æ¸…æ™°çš„å‚æ•°å’Œå¸®åŠ©
- **è¯¦ç»†æ—¥å¿—**: å¤šçº§åˆ«æ—¥å¿—æ”¯æŒ
- **é”™è¯¯æç¤º**: æ˜ç¡®çš„é”™è¯¯æ¶ˆæ¯
- **å‘åå…¼å®¹**: YAML æ ¼å¼å®Œå…¨å…¼å®¹

---

## ğŸ”§ å¼€å‘å·¥å…·

### å·²é…ç½®çš„ Make å‘½ä»¤

```bash
make build        # æ„å»ºé¡¹ç›®
make install      # å®‰è£…åˆ° GOPATH/bin
make test         # è¿è¡Œæµ‹è¯•
make coverage     # æµ‹è¯•è¦†ç›–ç‡
make examples     # è¿è¡Œç¤ºä¾‹
make lint         # ä»£ç æ£€æŸ¥
make fmt          # ä»£ç æ ¼å¼åŒ–
make tidy         # æ•´ç†ä¾èµ–
make clean        # æ¸…ç†æ„å»º
make build-all    # å¤šå¹³å°æ„å»º
```

### ä¾èµ–ç®¡ç†

```go
require (
    github.com/sirupsen/logrus v1.9.3      // æ—¥å¿—
    github.com/spf13/cobra v1.8.0          // CLI
    github.com/stretchr/testify v1.8.4     // æµ‹è¯•
    github.com/tidwall/gjson v1.17.0       // JSON æŸ¥è¯¢ (å¯é€‰)
    github.com/xeipuuv/gojsonschema v1.2.0 // Schema éªŒè¯
    gopkg.in/yaml.v3 v3.0.1                // YAML è§£æ
)
```

---

## ğŸ“ å¾…åŠäº‹é¡¹ï¼ˆå¯é€‰ï¼‰

### Phase 2 - å¢å¼ºåŠŸèƒ½
- [ ] å¹¶è¡Œæµ‹è¯•æ‰§è¡Œ
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] æ›´å¤šç¤ºä¾‹ï¼ˆè®¤è¯ã€æ–‡ä»¶ä¸Šä¼ ç­‰ï¼‰
- [ ] Docker é•œåƒ
- [ ] GitHub Actions CI/CD

### Phase 3 - é«˜çº§ç‰¹æ€§
- [ ] Web UI ç•Œé¢
- [ ] HTML/JUnit æµ‹è¯•æŠ¥å‘Š
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] Webhook é€šçŸ¥
- [ ] æ€§èƒ½ç›‘æ§å’ŒæŒ‡æ ‡

---

## ğŸ‰ é‡Œç¨‹ç¢‘

- âœ… **2025-10-18**: é¡¹ç›®å¯åŠ¨
- âœ… **2025-10-18**: æ ¸å¿ƒå¼•æ“å®Œæˆ
- âœ… **2025-10-18**: HTTP å®¢æˆ·ç«¯å®Œæˆ
- âœ… **2025-10-18**: å“åº”éªŒè¯å®Œæˆ
- âœ… **2025-10-18**: YAML åŠ è½½å®Œæˆ
- âœ… **2025-10-18**: æ‰©å±•ç³»ç»Ÿå®Œæˆ
- âœ… **2025-10-18**: CLI å®Œæˆ
- âœ… **2025-10-18**: æµ‹è¯•é€šè¿‡
- âœ… **2025-10-18**: æ–‡æ¡£å®Œæˆ
- âœ… **2025-10-18**: v0.1.0 å‘å¸ƒ

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®**: https://github.com/systemquest/tavern-go
- **æ–‡æ¡£**: https://docs.systemquest.dev/tavern-go
- **ç½‘ç«™**: https://systemquest.dev
- **é—®é¢˜**: https://github.com/systemquest/tavern-go/issues
- **é‚®ç®±**: dev@systemquest.dev

---

## ğŸ“„ è®¸å¯è¯

MIT License

Copyright (c) 2025 SystemQuest

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ [Tavern](https://github.com/taverntesting/tavern) é¡¹ç›®æä¾›çš„çµæ„Ÿå’Œå‚è€ƒã€‚

---

**é¡¹ç›®çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª  
**ç‰ˆæœ¬**: 0.1.0  
**æ„å»ºæ—¥æœŸ**: 2025-10-18  
**ä½œè€…**: SystemQuest Team  
**License**: MIT
